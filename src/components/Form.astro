---
const { title } = Astro.props;
---

<article>
  <div class="ansog">
    <h3>{title}</h3>
    <div class="readmore_button">
      <p class="text_button">Læs mere</p><p class="text_icon">▼</p>
    </div>
  </div>
  <div class="form form-container">
    <slot />
  </div>
  <script>
    const textButtons = document.querySelectorAll(".readmore_button");

    textButtons.forEach((button) => {
      button.parentElement.parentElement.querySelector(".form").style.display = "none";
      button.addEventListener("click", onClick);
    });

    function onClick(event) {
      const form = event.target.parentElement.parentElement.parentElement.querySelector(".form");
      console.log("form", form);
      const icon = event.target.parentElement.querySelector(".text_icon");
      if (form.style.display === "none") {
        form.style.display = "block";
        icon.style.rotate = "180deg";
      } else {
        form.style.display = "none";
        icon.style.rotate = "0deg";
      }
    }
  </script>
</article>

<style>
  .form-container {
    padding: 20px;
    margin-left: 30px;
    margin-right: 30px;
    border-radius: 10px;
    border: solid #abe4dc;
    justify-self: center;
    margin-top: 30px;
  }

  .readmore_button {
    display: flex;
    flex-direction: row;
    padding-left: 25%;
  }
  .text_button {
    display: inline-block;
    text-decoration: none;
    font-weight: 700;
    color: #011961;
    padding-top: 10px;
  }

  .text_button:hover {
    cursor: pointer;
  }

  .icon {
    display: inline-block;
    color: #011961;
    rotate: 180deg;
  }

  .text_icon {
    color: #011961;
    padding-top: 10px;
  }

  .ansog {
    margin-left: 30px;
    margin-right: 30px;
    text-align: center;
    background-color: #abe4dc;
    border-radius: 20px;
    height: 120px;
    align-content: center;
  }
  .ansog h2 {
    padding-bottom: 10px;
  }

  @media screen and (min-width: 900px) {
    .ansog1 {
      grid-column: 1/2;
      grid-row: 2;
    }
    .ansog2 {
      grid-column: 2/3;
      grid-row: 2;
    }
    .readmore_button {
      display: flex;
      flex-direction: row;
      padding-left: 40%;
    }
  }
</style>
